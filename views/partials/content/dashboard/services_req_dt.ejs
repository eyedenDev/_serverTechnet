<% if (services.length > 0) { %>
<div class="container-fluid">
<div class="card mb-3">
  <div class="card-header"><i class="fas fa-table"></i> <%= searchObjs %></div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-bordered" id="dt_srvice_requests" width="100%" cellspacing="0">
        <thead>
          <tr class="align-middle text-center">
            <th>Service</th>
            <th>Description</th>
            <th>Priority</th>
            <th>Requested by</th>
            <th>Requested</th>
            <th>Status</th>
            <th>Serviced by</th>
            <th>Completed</th>
          </tr>
        </thead>
        <!-- <tfoot>
          <tr>
            <th>Frame</th>
            <th>Carbon Value</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </tfoot> -->
        <tbody>
          <% services.forEach((service, index) => {
            var  servicedBy = service.serviced_by !== null ? service.serviced_by : 'Pending',
              completedOn = service.completion_date !== null ? service.completion_date : 'Pending';
          %>

          <tr class="align-middle text-center" >
            <td><%= service.service %></td>
            <td><%= service.description %></td>
            <td><%= service.priority %></td>
            <td><%= service.first_name %> <%= service.last_name %></td>
            <td><%= func_s.moment(service.service_request_date).format('MM/DD/YY')  %></td>
            <td><%= service.status %></td>
            <td><%= servicedBy %></td>
            <td><%= completedOn %></td>
          </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>
<% } else { %>
    <p class="text-center">No <%= searchObjs %> found.</p>
<% } %>
